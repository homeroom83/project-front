import{b as h,l as v,d as b,f as y,h as i,o as l,i as m,c as t,w as e,F as p,s as u,t as w,n as B,j as A,a as C,v as L,x as S}from"./index-fef033d9.js";import{V as P,a as F,b as M}from"./VMain-31e2d0f4.js";import{a as N,V as _}from"./VContainer-8e961356.js";import{V as T}from"./VMenu-508d9a49.js";const U={__name:"AdminLayout",setup(j){const{apiAuth:d}=S(),f=h(),c=v(),g=b(),x=y(()=>[{to:"/admin/products",text:"商品管理"},{to:"/admin/members",text:"會員管理"},{to:"/",text:"回首頁"}]),V=async()=>{var a,s;try{await d.delete("/users/logout"),g.logout(),c({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),f.push("/")}catch(o){const r=((s=(a=o==null?void 0:o.response)==null?void 0:a.data)==null?void 0:s.message)||"發生錯誤，請稍後再試";c({text:r,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(a,s)=>{const o=i("router-link"),r=i("router-view");return l(),m(p,null,[t(P,{color:"orange-lighten-4"},{default:e(()=>[t(N,{class:"d-flex align-center"},{default:e(()=>[t(o,{to:"/admin/products",class:"sneaker"},{default:e(()=>[t(M,null,{default:e(()=>[u(" 管理者介面 ")]),_:1})]),_:1}),t(w),(l(!0),m(p,null,B(x.value,n=>(l(),A(T,{key:n},{activator:e(({props:k})=>[t(_,C(k,{to:n.to,active:!1}),{default:e(()=>[u(L(n.text),1)]),_:2},1040,["to"])]),_:2},1024))),128)),t(_,{class:"logout",onClick:V},{default:e(()=>[u("登出")]),_:1})]),_:1})]),_:1}),t(F,null,{default:e(()=>[t(r)]),_:1})],64)}}};export{U as default};
