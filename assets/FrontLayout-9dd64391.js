import{p as M,m as R,g as T,u as $,c as o,a as w,V as j,b as q,l as E,d as G,e as X,f as y,r as F,h as I,o as t,i,j as r,w as e,k as p,F as c,n as f,q as v,s as d,t as z,v as P,x as H}from"./index-d4a8f114.js";import{V as J,a as S,b as K}from"./VNavigationDrawer-893953e9.js";import{V as O,a as Q,b as W}from"./VMain-dd172b61.js";import{V as n,a as Y}from"./VContainer-7078b7a0.js";import{V as Z}from"./VMenu-f37aa5db.js";const ee=M({...R({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),te=T()({name:"VAppBarNavIcon",props:ee(),setup(h,_){let{slots:k}=_;return $(()=>o(j,w(h,{class:["v-app-bar-nav-icon"]}),k)),{}}});const ne={__name:"FrontLayout",setup(h){const{apiAuth:_}=H(),k=q(),B=E(),u=G(),{sm:D,xs:U}=X(),L=y(()=>D.value),N=y(()=>U.value),V=F(!1),b=F(!1),C=y(()=>[{title:"商品總覽",pages:[{to:"/register",text:"Nike",show:!0},{to:"/login",text:"New Balance",show:!0}]},{title:"交流專區",pages:[{to:"/register",text:"Nike",show:!0},{to:"/login",text:"New Balance",show:!0}]},{title:"會員專區",pages:[{to:"/register",text:"註冊",show:!u.isLogin},{to:"/login",text:"登入",show:!u.isLogin},{to:"/like",text:"我的收藏",show:u.isLogin}]}]),A=async()=>{var g,l;try{await _.delete("/users/logout"),u.logout(),B({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),k.push("/")}catch(m){const x=((l=(g=m==null?void 0:m.response)==null?void 0:g.data)==null?void 0:l.message)||"發生錯誤，請稍後再試";B({text:x,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(g,l)=>{const m=I("router-link"),x=I("router-view");return t(),i(c,null,[N.value||L.value?(t(),r(J,{key:0,modelValue:V.value,"onUpdate:modelValue":l[1]||(l[1]=s=>V.value=s),color:"orange-lighten-5"},{default:e(()=>[o(S,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=s=>b.value=s)},{default:e(()=>[(t(!0),i(c,null,f(C.value,s=>(t(),r(K,{key:s},{activator:e(({props:a})=>[o(n,w(a,{title:s.title,class:"text-center"}),null,16,["title"])]),default:e(()=>[(t(!0),i(c,null,f(s.pages,a=>(t(),i(c,{key:a.to},[a.show?(t(),r(n,{key:0,class:"bg-white",to:a.to},{default:e(()=>[o(n,null,{default:e(()=>[d(P(a.text),1)]),_:2},1024)]),_:2},1032,["to"])):p("",!0)],64))),128))]),_:2},1024))),128))]),_:1},8,["modelValue"]),v(u).isLogin?(t(),r(n,{key:0,onClick:A,class:"text-center"},{default:e(()=>[d("登出")]),_:1})):p("",!0)]),_:1},8,["modelValue"])):p("",!0),o(O,{color:"orange-lighten-4"},{default:e(()=>[o(Y,{class:"d-flex align-center"},{default:e(()=>[o(m,{to:"/",class:"sneaker"},{default:e(()=>[o(W,null,{default:e(()=>[d(" sneaker ")]),_:1})]),_:1}),o(z),N.value||L.value?(t(),r(te,{key:0,onClick:l[2]||(l[2]=s=>V.value=!0)})):(t(),i(c,{key:1},[(t(!0),i(c,null,f(C.value,s=>(t(),r(Z,{"open-on-hover":"",key:s},{activator:e(({props:a})=>[o(n,w(a,{title:s.title,style:{cursor:"pointer"}}),null,16,["title"])]),default:e(()=>[o(S,null,{default:e(()=>[(t(!0),i(c,null,f(s.pages,a=>(t(),i(c,{key:a},[a.show?(t(),r(n,{key:0,to:a.to,active:!1},{default:e(()=>[o(n,null,{default:e(()=>[d(P(a.text),1)]),_:2},1024)]),_:2},1032,["to"])):p("",!0)],64))),128))]),_:2},1024)]),_:2},1024))),128)),v(u).isLogin&&v(u).isAdmin?(t(),r(n,{key:0,to:"/admin/products"},{default:e(()=>[d("管理員")]),_:1})):p("",!0),v(u).isLogin?(t(),r(n,{key:1,onClick:A},{default:e(()=>[d("登出")]),_:1})):p("",!0)],64))]),_:1})]),_:1}),o(Q,null,{default:e(()=>[o(x)]),_:1})],64)}}};export{ne as default};
