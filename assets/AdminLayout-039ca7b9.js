import{b as h,l as v,d as b,f as y,h as i,o as l,i as m,c as t,w as e,F as p,s as c,t as w,n as B,j as A,a as C,v as L,x as S}from"./index-fc8543eb.js";import{V as P,a as F,b as M}from"./VMain-4211a3df.js";import{V as N}from"./VContainer-b6b821c9.js";import{V as _}from"./VListItem-40f912dd.js";import{V as T}from"./VMenu-7dbd5a2a.js";import"./ssrBoot-170efbf2.js";const z={__name:"AdminLayout",setup(j){const{apiAuth:d}=S(),f=h(),u=v(),x=b(),g=y(()=>[{to:"/admin/products",text:"商品管理"},{to:"/admin/exchange",text:"交流區管理"},{to:"/admin/members",text:"會員管理"},{to:"/",text:"回首頁"}]),V=async()=>{var a,s;try{await d.delete("/users/logout"),x.logout(),u({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),f.push("/")}catch(o){const r=((s=(a=o==null?void 0:o.response)==null?void 0:a.data)==null?void 0:s.message)||"發生錯誤，請稍後再試";u({text:r,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(a,s)=>{const o=i("router-link"),r=i("router-view");return l(),m(p,null,[t(P,{color:"orange-lighten-4"},{default:e(()=>[t(N,{class:"d-flex align-center"},{default:e(()=>[t(o,{to:"/admin/products",class:"sneaker"},{default:e(()=>[t(M,null,{default:e(()=>[c(" 管理者介面 ")]),_:1})]),_:1}),t(w),(l(!0),m(p,null,B(g.value,n=>(l(),A(T,{key:n},{activator:e(({props:k})=>[t(_,C(k,{to:n.to,active:!1}),{default:e(()=>[c(L(n.text),1)]),_:2},1040,["to"])]),_:2},1024))),128)),t(_,{class:"logout",onClick:V},{default:e(()=>[c("登出")]),_:1})]),_:1})]),_:1}),t(F,null,{default:e(()=>[t(r)]),_:1})],64)}}};export{z as default};
