import{p as M,m as R,g as T,u as $,c as o,a as y,V as j,b as q,l as E,d as G,e as X,f as x,r as F,h as I,o as t,i,j as l,w as e,k as p,F as c,n as f,q as k,s as d,t as z,v as P,x as H}from"./index-fc8543eb.js";import{V as J,a as S,b as K}from"./VNavigationDrawer-52a1a983.js";import{V as O,a as Q,b as W}from"./VMain-4211a3df.js";import{V as n}from"./VListItem-40f912dd.js";import{V as Y}from"./VContainer-b6b821c9.js";import{V as Z}from"./VMenu-7dbd5a2a.js";import"./ssrBoot-170efbf2.js";const ee=M({...R({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),te=T()({name:"VAppBarNavIcon",props:ee(),setup(h,v){let{slots:_}=v;return $(()=>o(j,y(h,{class:["v-app-bar-nav-icon"]}),_)),{}}});const ie={__name:"FrontLayout",setup(h){const{apiAuth:v}=H(),_=q(),B=E(),u=G(),{sm:D,xs:U}=X(),L=x(()=>D.value),N=x(()=>U.value),V=F(!1),b=F(!1),C=x(()=>[{title:"商品總覽",pages:[{to:"/products/nike",text:"Nike",show:!0},{to:"/products/newbalance",text:"New Balance",show:!0}]},{title:"交流專區",pages:[{to:"/register",text:"Nike",show:!0},{to:"/login",text:"New Balance",show:!0}]},{title:"會員專區",pages:[{to:"/register",text:"註冊",show:!u.isLogin},{to:"/login",text:"登入",show:!u.isLogin},{to:"/like",text:"我的收藏",show:u.isLogin}]}]),A=async()=>{var g,r;try{await v.delete("/users/logout"),u.logout(),B({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),_.push("/")}catch(m){const w=((r=(g=m==null?void 0:m.response)==null?void 0:g.data)==null?void 0:r.message)||"發生錯誤，請稍後再試";B({text:w,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(g,r)=>{const m=I("router-link"),w=I("router-view");return t(),i(c,null,[N.value||L.value?(t(),l(J,{key:0,modelValue:V.value,"onUpdate:modelValue":r[1]||(r[1]=a=>V.value=a),color:"orange-lighten-5"},{default:e(()=>[o(S,{modelValue:b.value,"onUpdate:modelValue":r[0]||(r[0]=a=>b.value=a)},{default:e(()=>[(t(!0),i(c,null,f(C.value,a=>(t(),l(K,{key:a},{activator:e(({props:s})=>[o(n,y(s,{title:a.title,to:a.to,class:"text-center"}),null,16,["title","to"])]),default:e(()=>[(t(!0),i(c,null,f(a.pages,s=>(t(),i(c,{key:s.to},[s.show?(t(),l(n,{key:0,class:"bg-white",to:s.to},{default:e(()=>[o(n,null,{default:e(()=>[d(P(s.text),1)]),_:2},1024)]),_:2},1032,["to"])):p("",!0)],64))),128))]),_:2},1024))),128))]),_:1},8,["modelValue"]),k(u).isLogin?(t(),l(n,{key:0,onClick:A,class:"text-center"},{default:e(()=>[d("登出")]),_:1})):p("",!0)]),_:1},8,["modelValue"])):p("",!0),o(O,{color:"orange-lighten-4"},{default:e(()=>[o(Y,{class:"d-flex align-center"},{default:e(()=>[o(m,{to:"/",class:"sneaker"},{default:e(()=>[o(W,null,{default:e(()=>[d(" sneaker ")]),_:1})]),_:1}),o(z),N.value||L.value?(t(),l(te,{key:0,onClick:r[2]||(r[2]=a=>V.value=!0)})):(t(),i(c,{key:1},[(t(!0),i(c,null,f(C.value,a=>(t(),l(Z,{"open-on-hover":"",key:a},{activator:e(({props:s})=>[o(n,y(s,{title:a.title,style:{cursor:"pointer"}}),null,16,["title"])]),default:e(()=>[o(S,null,{default:e(()=>[(t(!0),i(c,null,f(a.pages,s=>(t(),i(c,{key:s},[s.show?(t(),l(n,{key:0,to:s.to,active:!1},{default:e(()=>[o(n,null,{default:e(()=>[d(P(s.text),1)]),_:2},1024)]),_:2},1032,["to"])):p("",!0)],64))),128))]),_:2},1024)]),_:2},1024))),128)),k(u).isLogin&&k(u).isAdmin?(t(),l(n,{key:0,to:"/admin/products"},{default:e(()=>[d("管理員")]),_:1})):p("",!0),k(u).isLogin?(t(),l(n,{key:1,onClick:A},{default:e(()=>[d("登出")]),_:1})):p("",!0)],64))]),_:1})]),_:1}),o(Q,null,{default:e(()=>[o(w)]),_:1})],64)}}};export{ie as default};
